<div class="container my-4">
  <h2 class="text-primary fw-bold mb-4">游니 Collares IoT</h2>

  <p class="text-muted mb-4">
    Aqu칤 puedes ver todos los collares IoT registrados en el sistema. 
    Los collares se crean autom치ticamente cuando el sensor env칤a su primer latido.
  </p>

  <!-- Resumen -->
  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm text-center p-3">
        <h5>Total Collares</h5>
        <h2 class="text-primary">{{ collares.length }}</h2>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm text-center p-3">
        <h5>Disponibles</h5>
        <h2 class="text-success">{{ collaresDisponibles }}</h2>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm text-center p-3">
        <h5>Ocupados</h5>
        <h2 class="text-warning">{{ collaresOcupados }}</h2>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-2">Cargando collares...</p>
  </div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Tabla -->
  <div class="table-responsive" *ngIf="!loading && collares.length > 0">
    <table class="table table-hover shadow-sm">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>C칩digo</th>
          <th>Estado</th>
          <th>Mascota Asignada</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of collares">
          <td>{{ c.id }}</td>
          <td class="fw-bold">{{ c.code }}</td>
          <td>
            <span class="badge" [ngClass]="getEstadoBadgeClass(c.estado)">
              {{ c.estado }}
            </span>
          </td>
          <td>
            <span *ngIf="c.mascotaId" class="badge bg-info">
              Mascota #{{ c.mascotaId }}
            </span>
            <span *ngIf="!c.mascotaId" class="text-muted">Sin asignar</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Sin collares -->
  <div *ngIf="!loading && collares.length === 0" class="text-center py-5">
    <img src="https://cdn-icons-png.flaticon.com/128/2454/2454492.png" alt="Sin collares" width="100" class="mb-3">
    <h4 class="text-muted">No hay collares registrados</h4>
    <p class="text-muted">Los collares se crean autom치ticamente cuando el sensor IoT env칤a datos.</p>
  </div>
</div>