<div class="container my-4">
  <h2 class="text-center text-primary">📖 Historias Clínicas</h2>

  <!-- Descripción -->
  <p class="text-muted text-center mb-4">
    En esta sección podrás registrar y consultar las <strong>historias clínicas de tus mascotas</strong>.  
    Aquí puedes anotar diagnósticos, observaciones y el estado de salud en cada consulta veterinaria 🐶🐱🦜.  
    De esta forma llevarás un control organizado y accesible de su evolución médica.
  </p>

  <!-- Formulario -->
  <div class="card p-3 shadow-sm mb-4">
    <h5 class="fw-bold">➕ Nueva Historia Clínica</h5>
    <form (ngSubmit)="agregarHistoria()">
      <div class="mb-2">
        <label>ID Mascota</label>
        <input type="number" class="form-control" [(ngModel)]="nuevaHistoria.mascotaId" name="mascotaId" required>
      </div>
      <div class="mb-2">
        <label>Fecha</label>
        <input type="date" class="form-control" [(ngModel)]="nuevaHistoria.fecha" name="fecha" required>
      </div>
      <div class="mb-2">
        <label>Diagnóstico</label>
        <input type="text" class="form-control" [(ngModel)]="nuevaHistoria.diagnostico" name="diagnostico" required>
      </div>
      <div class="mb-2">
        <label>Observaciones</label>
        <textarea class="form-control" [(ngModel)]="nuevaHistoria.observaciones" name="observaciones"></textarea>
      </div>
      <button type="submit" class="btn btn-success">Guardar</button>
    </form>
  </div>
  
  <!-- Lista -->
  <h5 class="fw-bold">📋 Historias Registradas</h5>
  <table class="table table-striped table-hover shadow-sm">
    <thead>
      <tr>
        <th>ID</th>
        <th>Mascota</th>
        <th>Fecha</th>
        <th>Diagnóstico</th>
        <th>Observaciones</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let h of historias">
        <td>{{ h.id }}</td>
        <td>{{ h.nombreMascota }}</td>
        <td>{{ h.fecha }}</td>
        <td>{{ h.diagnostico }}</td>
        <td>{{ h.observaciones }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="eliminarHistoria(h.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>